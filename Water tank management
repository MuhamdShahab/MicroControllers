float tank_height=100; //enter tank hieght in CMs
float offset=0;//offset CMs from tank

#include <NewPing.h>
#define TRIGGER_PIN_F 9
#define ECHO_PIN_F 8
float MAX_DISTANCE=tank_height+offset; // increase this to level where you are placing ultrasonic sensorabove tank upper lvel/

float level()
{
  float distance_F=0;
  NewPing sonar(TRIGGER_PIN_F, ECHO_PIN_F, MAX_DISTANCE);
  for(int avg=0;avg<=10;avg++)
    distance_F += sonar.ping_cm();
  distance_F/=10;
   if(distance_F>=0)
   {
   float percent=tank_height-distance_F-offset;
   percent*=100;
   percent/=tank_height;
   Serial.print(percent);
   Serial.println("%");
   }
   else
    level();
  }


void setup()
{
  Serial.begin(9600);
}


void loop()
{
  level();
  }


  
